<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./index.css" />
    <title>day022</title>
  </head>
  <body>
    <div class="wrapper">
      <div class="inner">
        <div class="card_container">
          <div class="card_front">
            <div class="inner">
              <div class="card_number front_font_style">
                <span class="card_number_1">0000</span>
                <span class="card_number_2">0000</span>
                <span class="card_number_3">0000</span>
                <span class="card_number_4">0000</span>
              </div>
              <div class="card_holder front_font_style">
                <p id="card_holder">Your Name</p>
              </div>
              <div class="card_days">
                <p class="days_title">VAILD<br />THRU</p>
                <p class="day front_font_style"><span class="month">MM</span> / <sapn class="year">YY</sapn></p>
              </div>
            </div>
          </div>
          <div class="card_back">
            <div class="card_bar"></div>
            <div class="card_cvc_area">
              <p class="card_cvc_title">CVC</p>
              <p class="card_cvc_number"><span>*** </span>000</p>
            </div>
            <p class="signiture_title">AUTHORIZED SIGNITURE</p>
            <div class="info_area">
              <p>
                이 카드는 포트폴리오 용도로 만들어졌으며, 타인에게 공유하면 저는 너무 좋습니다. 루피 이미지 막
                사용했는데 신한카드 짱
              </p>
            </div>
          </div>
        </div>
        <div class="input_container">
          <div class="input_area">
            <label for="card_number">Card Number</label>
            <input type="number" id="card_number" maxlength="16" />
          </div>
          <div class="input_area">
            <label for="card_holder">Card Holder</label>
            <input type="text" id="input_holder" />
          </div>
          <div class="input_area">
            <div class="select_inner">
              <label for="expiration_date">Expiration Date</label>
              <select id="expiration_date">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
                <option value="11">11</option>
                <option value="12">12</option>
              </select>
              <select id="expiration_date_year">
                <option value="23">23</option>
                <option value="24">24</option>
                <option value="25">25</option>
                <option value="26">26</option>
                <option value="27">27</option>
                <option value="28">28</option>
              </select>
            </div>
          </div>
          <div class="input_area">
            <label for="card_cvc">CVC</label>
            <input type="number" id="card_cvc" />
          </div>
          <div class="button_are">
            <button id="submit_button" type="button">Submit</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      const numberInput = document.getElementById("card_number");
      const holderInput = document.getElementById("card_holder");
      const dateMonth = document.getElementById("expiration_date");
      const dateYear = document.getElementById("expiration_date_year");
      const CVC = document.getElementById("card_cvc");
      const submit = document.getElementById("submit_button");

      const cardNumberSpans = [
        document.querySelector(".card_number_1"),
        document.querySelector(".card_number_2"),
        document.querySelector(".card_number_3"),
        document.querySelector(".card_number_4"),
      ];
      const cardName = document.getElementById("input_holder");
      const cardMonth = document.querySelector(".month");
      const cardYear = document.querySelector(".year");

      numberInput.addEventListener("input", () => {
        const inputValue = numberInput.value.replace(/\s/g, ""); // 공백 제거

        for (let i = 0; i < cardNumberSpans.length; i++) {
          const startIndex = i * 4;
          const endIndex = startIndex + 4;
          const chunk = inputValue.slice(startIndex, endIndex);

          if (i === 1 || i === 2) {
            // 두 번째와 세 번째 칸에는 '*' 표시
            cardNumberSpans[i].textContent = chunk.length > 0 && chunk !== "*" ? "*".repeat(chunk.length) : "0000";
          } else {
            cardNumberSpans[i].textContent = chunk.length > 0 ? chunk.padStart(4, "0") : "0000";
          }
        }
      });

      cardName.addEventListener("input", () => {
        const inputValue = cardName.value;
        holderInput.textContent = inputValue.length > 0 ? inputValue : "Your Name";
      });
    </script>
  </body>
</html>
